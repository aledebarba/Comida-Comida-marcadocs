---
const { layout } = Astro.props;
---
<div class={ layout == "mansory" ? "container__grid" : "container__regular" }>
    <slot />
</div>

<style>
    .container__grid {
        position: relative;
        display: grid;
        grid-gap: 8px;
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
        grid-template-rows: repeat(auto-fill, minmax(200px, 1fr));
        justify-items: center;
        align-items: center;

        img {
            position: relative;
            width: 80%;
            height: 100%;
            object-fit: contain;

            &:first-child {
                top: 8px;
            }

            &:nth-child(8n + 1),
            &:nth-child(8n + 7) {
                grid-row: auto / span 2;
                grid-column: auto / span 2;
            }

            &:nth-child(8n + 3),
            &:nth-child(8n + 5) {
                grid-row: auto / span 3;
            }

            &:last-child {
                grid-column: auto / span 2;
                grid-row: auto / span 2;
            }
        }
    }

    .container__regular {
        position: relative;
        display: grid;
        grid-gap: 8px;
        grid-template-columns: repeat(3, 1fr);
        grid-template-rows: repeat(auto-fill, 300px);
        justify-items: center;
        align-items: center;

        img {
            position: relative;
            width: 100%;
            object-fit: contain;

            &:first-child {
                top: 8px;
            }
        }

    }
</style>
